CODE SEGMENT
ASSUME CS: CODE , DS: CODE ,SS: CODE ,ES: CODE

PPI EQU 26H
CPORT EQU 24H
BPORT EQU 22H
APORT EQU 20H

ORG 1000H

MOV AL, 90H
OUT PPI , AL
;
MOV AL, 0F9H
OUT CPORT, AL

REPEAT :
IN AL, APORT
AND AL , 11110000B
CMP AL , 00100000B
JE STOP
JMP REPEAT


STOP :  ;; STOP
    MOV AL , 0FFH
    OUT CPORT , AL
    MOV AL , 0A4H
    OUT BPORT , AL

CODE ENDS
END
